# RUN: llvm-mc %s -triple=riscv32 -riscv-no-aliases -show-encoding \
# RUN:     | FileCheck -check-prefixes=CHECK-ASM %s
# RUN: llvm-mc %s -triple riscv64 -riscv-no-aliases -show-encoding \
# RUN:     | FileCheck -check-prefixes=CHECK-ASM %s

.equ CONST, 30

# CHECK-ASM: encoding: [0x9b,0x70,0x00,0x00]
merry_asm dc[1], dc[0], dc[0]
# CHECK-ASM: encoding: [0x9b,0x70,0x50,0x00]
merry_asm dc[1], dc[0], dc[5]
# CHECK-ASM: encoding: [0x9b,0x70,0x70,0x00]
merry_asm dc[1], dc[0], dc[7]

# CHECK-ASM: encoding: [0x93,0x00,0x21,0x00]
addi dc[1], dc[2], 2
# CHECK-ASM: encoding: [0x93,0x00,0xe1,0x01]
addi dc[1], dc[2], CONST
# CHECK-ASM: encoding: [0x93,0x00,0x01,0x00]
addi dc[1], dc[2], (0)
# CHECK-ASM: encoding: [0x93,0x00,0xc1,0x09]
addi dc[1], dc[2], (0xff-99)
# CHECK-ASM: encoding: [0x13,0x25,0xc6,0xfe]
slti dc[10],  dc[12], -20
# CHECK-ASM: encoding: [0x13,0xb9,0x09,0x05]
sltiu  dc[18], dc[19], 0x50
# CHECK-ASM: encoding: [0x13,0x42,0xd3,0xf9]
xori dc[4], dc[6], -99
# CHECK-ASM: encoding: [0x13,0xe5,0x05,0x80]
ori dc[10], dc[11], -2048
# CHECK-ASM: encoding: [0x13,0xe5,0x05,0x80]
ori dc[10], dc[11], ~2047
# CHECK-ASM: encoding: [0x13,0xe5,0x05,0x00]
ori dc[10], dc[11], !1
# CHECK-ASM: encoding: [0x13,0xe5,0x05,0x80]
ori dc[10], dc[11], %lo(2048)
# CHECK-ASM: encoding: [0x93,0x70,0xf1,0x7f]
andi dc[1], dc[2], 2047
# CHECK-ASM: encoding: [0x93,0x70,0xf1,0x7f]
andi dc[1], dc[2], 2047

# CHECK-ASM: encoding: [0xb3,0x00,0x00,0x00]
add dc[1], dc[0], dc[0]
# CHECK-ASM: encoding: [0xb3,0x00,0x00,0x00]
add dc[1], dc[0], dc[0]
# CHECK-ASM: encoding: [0xb3,0x82,0x63,0x40]
sub dc[5], dc[7], dc[6]
# CHECK-ASM: encoding: [0xb3,0x17,0xd7,0x00]
sll dc[15], dc[14], dc[13]
# CHECK-ASM: encoding: [0x33,0x24,0x84,0x00]
slt dc[8], dc[8], dc[8]
# CHECK-ASM: encoding: [0xb3,0x31,0xb5,0x00]
sltu dc[3], dc[10], dc[11]
# CHECK-ASM: encoding: [0x33,0x49,0x89,0x01]
xor dc[18], dc[18], dc[24]
# CHECK-ASM: encoding: [0x33,0x49,0x89,0x01]
xor dc[18], dc[18], dc[24]
# CHECK-ASM: encoding: [0x33,0x55,0x54,0x00]
srl dc[10], dc[8], dc[5]
# CHECK-ASM: encoding: [0xb3,0x52,0x09,0x40]
sra dc[5], dc[18], dc[0]
# CHECK-ASM: encoding: [0x33,0x6d,0x13,0x00]
or dc[26], dc[6], dc[1]
# CHECK-ASM: encoding: [0x33,0x75,0x39,0x01]
and dc[10], dc[18], dc[19]
